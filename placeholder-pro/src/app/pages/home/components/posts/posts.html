<div class="posts">
  <!-- ===== Tiêu đề + link xem tất cả ===== -->
  <div class="title-bar">
    <h2>Bài viết mới</h2>
    <a routerLink="/posts" class="link">Xem tất cả >></a>
  </div>

  <!-- ===== Danh sách bài viết ===== -->
  <div class="grid">
    <div class="card" *ngFor="let post of visiblePosts" (click)="goToDetail(post.id)">
      <span class="tag">{{ getRandomCategory() }}</span>

      <h3>{{ post.title | slice:0:40 | capitalize }}...</h3>
      <p>{{ post.body | slice:0:100 | capitalize }}...</p>

      <!-- ===== Footer: tác giả + meta ===== -->
      <div class="footer">
        <div class="author">
          <img [src]="getRandomAvatar()" alt="author" />
          <span>{{ getRandomAuthor() }}</span>
        </div>
        <div class="meta">
          <span><i class="fa-regular fa-comment"></i> {{ getRandomComments() }} comments</span>
          <span><i class="fa-regular fa-calendar"></i> {{ getRandomPostTime() }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Phân trang ===== -->
  <div class="pagination">
    <button (click)="prevPage()" [disabled]="currentPage === 0">
      <i class="fa-solid fa-arrow-left"></i>
    </button>
    <span>Trang {{ currentPage + 1 }} / {{ totalPages }}</span>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages - 1">
      <i class="fa-solid fa-arrow-right"></i>
    </button>
  </div>
</div>
