<div class="search-page">
  <h2>Kết quả tìm kiếm cho: "{{ query }}"</h2>

  <!-- Lặp qua các loại dữ liệu -->
  <ng-container *ngFor="let api of apis">
    <div class="search-section" *ngIf="results[api.key]?.length">
      <h3>{{ api.label }}</h3>
      <ul>
        <!-- Lặp qua các phần tử trong từng loại -->
        <li *ngFor="let item of results[api.key].slice(0, visibleCounts[api.key])">
          <ng-container [ngSwitch]="api.key">

            <!-- 🧍 USERS (chỉ hiển thị, không có link hoặc nút) -->
            <span *ngSwitchCase="'users'">
              👤 {{ item.name }} <small>({{ item.email }})</small>
            </span>

            <!-- 📝 POSTS -->
            <a *ngSwitchCase="'posts'" [routerLink]="['/posts', item.id]" class="link-item">
              📝 {{ item.title | capitalize }}
            </a>

            <!-- 💿 ALBUMS -->
            <a *ngSwitchCase="'albums'" [routerLink]="['/album-detail']" class="link-item">
              💿 {{ item.title | capitalize}}
            </a>

            <!-- ✅ TODOS -->
            <span *ngSwitchCase="'todos'">
              <input type="checkbox" [checked]="item.completed" disabled />
              {{ item.title | capitalize}}
            </span>
          </ng-container>
        </li>
      </ul>

      <!-- Nút hiển thị thêm & xem tất cả (trừ users) -->
      <div *ngIf="api.key !== 'users'" class="btn-group">
        <button (click)="showMore(api.key)">Hiển thị thêm</button>
        <button (click)="goToFull(api.key)">Xem tất cả</button>
      </div>
    </div>
  </ng-container>
</div>